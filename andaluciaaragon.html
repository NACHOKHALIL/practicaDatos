<!DOCTYPE html>
<html>
<body>
<h2>ANDALUCIA ARAGON Fuente: Eustat</h2>
<p>Datos en miles de personas</p>
<button type="button" onclick="loadXMLDoc()">
see data</button>
<p><textarea id="demo"></textarea></p>
<script>
function loadXMLDoc() {
  var xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      myFunction(this);
    }
  };
  xmlhttp.open("GET", "andaluciaaragon.xml", true);
  xmlhttp.send();
}
function myFunction(xml) {
  var x, i, xmlDoc, txt;
  xmlDoc = xml.responseXML;
  txt = "";
  x = xmlDoc.getElementsByTagName("datosvalor");
  y= xmlDoc.getElementsByTagName("valores");
  z= xmlDoc.getElementsByTagName("valor");
  q= xmlDoc.getElementsByTagName("val");
  w= xmlDoc.getElementsByTagName("datos");
  r = xmlDoc.getElementsByTagName("dat");
  t = xmlDoc.getElementsByTagName("var");
  p = xmlDoc.getElementsByTagName("va");
  s = xmlDoc.getElementsByTagName("v");
  d = xmlDoc.getElementsByTagName("vat");
  f = xmlDoc.getElementsByTagName("gal");
  g = xmlDoc.getElementsByTagName("mad");
  h = xmlDoc.getElementsByTagName("mur");
  j = xmlDoc.getElementsByTagName("nav");
  k = xmlDoc.getElementsByTagName("vasc");
  l = xmlDoc.getElementsByTagName("rioj");
  c = xmlDoc.getElementsByTagName("comval");
  v = xmlDoc.getElementsByTagName("ceu");
  b = xmlDoc.getElementsByTagName("mel");
  for (i = 0; i< x.length; i++) {
    xpob = x[i].getElementsByTagName("ciudad");
    txt += xpob[0].childNodes[0].nodeValue.trim() + ";";
    xtmax = x[i].getElementsByTagName("tmax");  
    txt += xtmax[0].childNodes[0].nodeValue.trim() + ";";
    xtmin = x[i].getElementsByTagName("tmin");
    txt += xtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
   for (i = 0; i< y.length; i++) {
    ypob = y[i].getElementsByTagName("ciudad");
    txt += ypob[0].childNodes[0].nodeValue.trim() + ";";
    ytmax = y[i].getElementsByTagName("tmax");  
    txt += ytmax[0].childNodes[0].nodeValue.trim() + ";";
    ytmin = y[i].getElementsByTagName("tmin");
    txt += ytmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
   for (i = 0; i< z.length; i++) {
    zpob = z[i].getElementsByTagName("ciudad");
    txt += zpob[0].childNodes[0].nodeValue.trim() + ";";
    ztmax = z[i].getElementsByTagName("tmax");  
    txt += ztmax[0].childNodes[0].nodeValue.trim() + ";";
    ztmin = z[i].getElementsByTagName("tmin");
    txt += ztmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< q.length; i++) {
    qpob = q[i].getElementsByTagName("ciudad");
    txt += qpob[0].childNodes[0].nodeValue.trim() + ";";
    qtmax = q[i].getElementsByTagName("tmax");  
    txt += qtmax[0].childNodes[0].nodeValue.trim() + ";";
    qtmin = q[i].getElementsByTagName("tmin");
    txt += qtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
   for (i = 0; i< w.length; i++) {
    wpob = w[i].getElementsByTagName("ciudad");
    txt += wpob[0].childNodes[0].nodeValue.trim() + ";";
    wtmax = w[i].getElementsByTagName("tmax");  
    txt += wtmax[0].childNodes[0].nodeValue.trim() + ";";
    wtmin = w[i].getElementsByTagName("tmin");
    txt += wtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< r.length; i++) {
    rpob = r[i].getElementsByTagName("ciudad");
    txt += rpob[0].childNodes[0].nodeValue.trim() + ";";
    rtmax = r[i].getElementsByTagName("tmax");  
    txt += rtmax[0].childNodes[0].nodeValue.trim() + ";";
    rtmin = r[i].getElementsByTagName("tmin");
    txt += rtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< t.length; i++) {
    tpob = t[i].getElementsByTagName("ciudad");
    txt += tpob[0].childNodes[0].nodeValue.trim() + ";";
    ttmax = t[i].getElementsByTagName("tmax");  
    txt += ttmax[0].childNodes[0].nodeValue.trim() + ";";
    ttmin = t[i].getElementsByTagName("tmin");
    txt += ttmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< p.length; i++) {
    ppob = p[i].getElementsByTagName("ciudad");
    txt += ppob[0].childNodes[0].nodeValue.trim() + ";";
    ptmax = p[i].getElementsByTagName("tmax");  
    txt += ptmax[0].childNodes[0].nodeValue.trim() + ";";
    ptmin = p[i].getElementsByTagName("tmin");
    txt += ptmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< s.length; i++) {
    spob = s[i].getElementsByTagName("ciudad");
    txt += spob[0].childNodes[0].nodeValue.trim() + ";";
    stmax = s[i].getElementsByTagName("tmax");  
    txt += stmax[0].childNodes[0].nodeValue.trim() + ";";
    stmin = s[i].getElementsByTagName("tmin");
    txt += stmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< d.length; i++) {
    dpob = d[i].getElementsByTagName("ciudad");
    txt += dpob[0].childNodes[0].nodeValue.trim() + ";";
    dtmax = d[i].getElementsByTagName("tmax");  
    txt += dtmax[0].childNodes[0].nodeValue.trim() + ";";
    dtmin = d[i].getElementsByTagName("tmin");
    txt += dtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< f.length; i++) {
    fpob = f[i].getElementsByTagName("ciudad");
    txt += fpob[0].childNodes[0].nodeValue.trim() + ";";
    ftmax = f[i].getElementsByTagName("tmax");  
    txt += ftmax[0].childNodes[0].nodeValue.trim() + ";";
    ftmin = f[i].getElementsByTagName("tmin");
    txt += ftmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
    for (i = 0; i< g.length; i++) {
    gpob = g[i].getElementsByTagName("ciudad");
    txt += gpob[0].childNodes[0].nodeValue.trim() + ";";
    gtmax = g[i].getElementsByTagName("tmax");  
    txt += gtmax[0].childNodes[0].nodeValue.trim() + ";";
    gtmin = g[i].getElementsByTagName("tmin");
    txt += gtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
  for (i = 0; i< h.length; i++) {
    hpob = h[i].getElementsByTagName("ciudad");
    txt += hpob[0].childNodes[0].nodeValue.trim() + ";";
    htmax = h[i].getElementsByTagName("tmax");  
    txt += htmax[0].childNodes[0].nodeValue.trim() + ";";
    htmin = h[i].getElementsByTagName("tmin");
    txt += htmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< j.length; i++) {
    jpob = j[i].getElementsByTagName("ciudad");
    txt += jpob[0].childNodes[0].nodeValue.trim() + ";";
    jtmax = j[i].getElementsByTagName("tmax");  
    txt += jtmax[0].childNodes[0].nodeValue.trim() + ";";
    jtmin = j[i].getElementsByTagName("tmin");
    txt += jtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
  for (i = 0; i< k.length; i++) {
    kpob = k[i].getElementsByTagName("ciudad");
    txt += kpob[0].childNodes[0].nodeValue.trim() + ";";
    ktmax = k[i].getElementsByTagName("tmax");  
    txt += ktmax[0].childNodes[0].nodeValue.trim() + ";";
    ktmin = k[i].getElementsByTagName("tmin");
    txt += ktmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< l.length; i++) {
    lpob = l[i].getElementsByTagName("ciudad");
    txt += lpob[0].childNodes[0].nodeValue.trim() + ";";
    ltmax = l[i].getElementsByTagName("tmax");  
    txt += ltmax[0].childNodes[0].nodeValue.trim() + ";";
    ltmin = l[i].getElementsByTagName("tmin");
    txt += ltmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
   for (i = 0; i< c.length; i++) {
    cpob = c[i].getElementsByTagName("ciudad");
    txt += cpob[0].childNodes[0].nodeValue.trim() + ";";
    ctmax = c[i].getElementsByTagName("tmax");  
    txt += ctmax[0].childNodes[0].nodeValue.trim() + ";";
    ctmin = c[i].getElementsByTagName("tmin");
    txt += ctmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
  for (i = 0; i< v.length; i++) {
    vpob = v[i].getElementsByTagName("ciudad");
    txt += vpob[0].childNodes[0].nodeValue.trim() + ";";
    vtmax = v[i].getElementsByTagName("tmax");  
    txt += vtmax[0].childNodes[0].nodeValue.trim() + ";";
    vtmin = v[i].getElementsByTagName("tmin");
    txt += vtmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
  for (i = 0; i< b.length; i++) {
    bpob = b[i].getElementsByTagName("ciudad");
    txt += bpob[0].childNodes[0].nodeValue.trim() + ";";
    btmax = b[i].getElementsByTagName("tmax");  
    txt += btmax[0].childNodes[0].nodeValue.trim() + ";";
    btmin = b[i].getElementsByTagName("tmin");
    txt += btmin[0].childNodes[0].nodeValue.trim() + "\n";
  }
  
 
  document.getElementById("demo").value = "Poblacion;T_max;T_min" +"\n"+ txt;
}
</script>
</body>
</html>